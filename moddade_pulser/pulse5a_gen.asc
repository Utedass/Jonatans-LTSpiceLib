Version 4
SHEET 1 1396 812
WIRE 160 320 128 320
WIRE 192 320 160 320
WIRE 352 320 336 320
WIRE 464 320 432 320
WIRE 128 352 128 320
WIRE 336 368 336 320
WIRE 128 464 128 432
WIRE 336 464 336 448
WIRE 464 464 336 464
FLAG 128 464 0
FLAG 160 320 Vpulse
FLAG 464 320 V+
FLAG 464 464 V-
FLAG 192 400 0
SYMBOL bv 336 352 R0
WINDOW 0 -36 5 Left 2
WINDOW 3 -93 184 Left 2
SYMATTR InstName B1
SYMATTR Value V=(V(Vpulse))/196*US
SYMBOL res 448 304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Ri1
SYMATTR Value {Ri}
SYMBOL ISO16750-2 128 352 R0
WINDOW 0 -81 18 Left 2
WINDOW 38 -145 146 Left 2
WINDOW 1 -166 56 Left 2
SYMATTR InstName U2
SYMATTR SpiceModel 4-6-4_24V_LoadDumpWithoutSuppressionModified
SYMBOL res 176 304 R0
SYMATTR InstName R1
SYMATTR Value 1Meg
TEXT 640 152 Left 2 !.subckt 4-6-4_24V_LoadDumpWithoutSuppressionModified + -\n.param Ua=0\n.param Us=202\n.param UsClamp={Us}\n.param Ri=1\n.param t0=1\n.param Creservoir=0.15 Rshunt=1.55\nL1 N004 N005 2m\nD1 N007 + Dideal\nV2 N007 - PWL(0 {Ua})\nR1 N005 - {Rshunt}\nD2 N006 + Dideal\nC1 N003 - {Creservoir}\nR2 N003 N002 100\nV3 N002 - PWL(0 {Us})\nS1 N004 N003 N001 0 Sideal\nV4 N001 0 PULSE(0 1 {t0} +1n +1n 2 60 10)\nR3 N006 N005 {Ri}\nD3 + N008 Dideal\n;V5 N008 - PWL(0 {Usclamp})\n.model Sideal SW(Ron=1m Roff=100MEG Vt=0.5 Vh=-0.1)\n.model Dideal D(Ron=1m Roff=1MEG Vfwd=1m epsilon=10m)\n.ic V(n003)={Us}\n.ends 4-6-4_24V_LoadDumpWithoutSuppressionModified
